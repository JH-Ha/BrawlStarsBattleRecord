(this.webpackJsonpbrawlstars=this.webpackJsonpbrawlstars||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(48),c=a.n(o),l=(a(56),a(57),a(58),a(4)),s=a(5),i=a(11),m=a(7),u=a(6),h=a(17),p=a.n(h),g=a(49),d=a.n(g),v=(a(70),d.a.initializeApp({apiKey:"AIzaSyAvw6GqjvdJ30u8lhJPDpx_Asz6fw9QwaA",authDomain:"brawlstars-260814.firebaseapp.com",databaseURL:"https://brawlstars-260814.firebaseio.com",projectId:"brawlstars-260814",storageBucket:"brawlstars-260814.appspot.com",messagingSenderId:"184744257860",appId:"1:184744257860:web:7760bdf65e67cbeb9f8f11",measurementId:"G-36T0YR0TBC"}).firestore(),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={value:"gemGrab"},n.change=n.change.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"change",value:function(e){var t=this.props.changeMode,a=e.target.value;this.setState({value:a}),t(a)}},{key:"componentDidMount",value:function(){var e=this.props.mode;console.log("modeList : ".concat(e)),this.setState({value:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"selectBox"},r.a.createElement("label",{htmlFor:"modeList"},"mode "),r.a.createElement("select",{id:"modeList",onChange:this.change,value:this.state.value},r.a.createElement("option",{value:"ALL"},"ALL"),r.a.createElement("option",{value:"gemGrab"},"gemGrab"),r.a.createElement("option",{value:"heist"},"heist"),r.a.createElement("option",{value:"brawlBall"},"brawlBall"),r.a.createElement("option",{value:"bounty"},"bounty"),r.a.createElement("option",{value:"siege"},"siege"),r.a.createElement("option",{value:"hotZone"},"hotZone"),r.a.createElement("option",{value:"soloShowdown"},"soloShowdown"),r.a.createElement("option",{value:"duoShowdown"},"duoShowdown")))}}]),a}(n.Component)),b=(a(71),a(24)),E=(a(76),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.call(this)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.brawlerName,a=e.playerName,n=e.trophies;return r.a.createElement("div",{className:"playerTile"},r.a.createElement("div",null,r.a.createElement("div",null,n),r.a.createElement("img",{src:"images/".concat(t,".png"),width:"50px"}),r.a.createElement("div",{className:"playerName"},a)))}}]),a}(n.Component)),f=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imgSrc:""},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props);var e=this.props.brawler_name;this.setState({imgSrc:"images/".concat(e,".png")})}},{key:"render",value:function(){var e=this.props,t=e.battleTime,a=(e.brawler_name,e.duration),n=(e.isStarPalyer,e.map),o=(e.power,e.trophies,e.trophyChange),c=e.result,l=e.type,s=e.mode,i=e.groupRecords;return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"trioContainer ".concat(c)},r.a.createElement("div",{className:"typeInfo info ".concat(c)},r.a.createElement("div",{className:"duration"},a," seconds"),l||"game",r.a.createElement("div",{className:"battleTime"},t.substr(0,8))),r.a.createElement("div",{className:"gameInfo top ".concat(c)},r.a.createElement("div",{className:"modeMap"},r.a.createElement("div",{className:"mode"},s),r.a.createElement("div",{className:"map"},n)),r.a.createElement("div",{className:"gameResult"},c),r.a.createElement("div",{className:"trophyChange"},o)),r.a.createElement("div",{className:"playerInfo info ".concat(c)},r.a.createElement("div",{className:"trioPlayerContainer"},i.map((function(e,t){if(0===e.teamId)return r.a.createElement(E,{key:t,brawlerName:e.brawlerName,playerName:e.playerName,trophies:e.trophies})}))),r.a.createElement("div",{className:"durationContainer"},r.a.createElement("div",null,"vs")),r.a.createElement("div",{className:"trioPlayerContainer"},i.map((function(e,t){if(1===e.teamId)return r.a.createElement(E,{key:t,brawlerName:e.brawlerName,playerName:e.playerName,trophies:e.trophies})}))))))}}]),a}(n.Component),y=["SHELLY","NITA","COLT","BULL","JESSIE","BROCK","DYNAMIKE","EL PRIMO","BARLEY","POCO","RICO","DARRYL","PIPER","PENNY","BO","MORTIS","TARA","PAM","FRANK","CROW","SPIKE","LEON","GENE","TICK","ROSA","8-BIT","CARL","BIBI","EMZ","BEA","SPROUT","SANDY","JACKY","MAX","MR. P","GALE","COLETTE","AMBER","BYRON","STU","COLONEL RUFFS","LOU","EDGAR","SURGE"];(y=y.sort()).unshift("ALL");var N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={brawlerName:"ALL",changeBrawler:""},n.change=n.change.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"change",value:function(e){var t=e.target.value;this.props.changeBrawler(t),this.setState({value:t})}},{key:"componentDidMount",value:function(){var e=this.props.brawlerName;this.setState({brawlerName:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"selectBox"},r.a.createElement("label",{htmlFor:"brawlerName"},"brawler"),r.a.createElement("select",{id:"brawlerName",onChange:this.change,value:this.state.brawlerName},y.map((function(e,t){return r.a.createElement("option",{key:e,label:e,value:e},e)}))))}}]),a}(n.Component),w=(a(77),a(38),a(78),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={trophyChange:"",rankCss:""},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.trophyChange,a=e.mode,n=e.rank,r=null;r=t>0?"+"+t:t,"soloShowdown"==a?this.setState({rankCss:Math.floor((n+1)/2)}):this.setState({rankCss:n}),this.setState({trophyChange:r})}},{key:"render",value:function(){var e=this.props,t=e.groupRecords,a=e.tag,n=e.map,o=(e.mode,""),c="",l="",s="",i="";return t.forEach((function(e){e.tag===a&&(o=e.battleTime,c=e.resultRank,l=e.brawlerName,s=e.power,i=e.trophies,e.trophyChange)})),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"SoloDuoModeContainer rank".concat(this.state.rankCss)},r.a.createElement("div",{className:"topContainer rank".concat(this.state.rankCss)},r.a.createElement("div",{className:"rank rank".concat(this.state.rankCss,"Content")},c),r.a.createElement("div",null,o),r.a.createElement("div",null,this.state.trophyChange)),r.a.createElement("div",{className:"gameInfoContainer rank".concat(this.state.rankCss)},r.a.createElement("div",null,r.a.createElement("img",{src:"/images/".concat(l,".png"),width:"50px"}),r.a.createElement("div",null,l)),r.a.createElement("div",{className:"tableContainer"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"map"),r.a.createElement("th",null,"power"),r.a.createElement("th",null,"trophies"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",null,s),r.a.createElement("td",null,i))))))))}}]),a}(n.Component)),k=(a(79),function e(t,a,n,r){Object(l.a)(this,e),this.link=t,this.pageNum=a,this.content=n,this.className=r}),L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={curPage:1},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){}},{key:"componentDidMount",value:function(){this.setState({curPage:this.props.curPage})}},{key:"render",value:function(){var e=this.props,t=e.numTotal,a=e.numShowItems,n=e.pageUrl,o=e.onClick,c=this.state.curPage,l=Math.floor((t-1)/a)+1;void 0===c&&(c=1),void 0===a&&(a=15),c<1?c=1:c>l&&(c=l);var s=5*Math.floor((c-1)/5)+1,i=s+5-1;s<1&&(s=1),i>l&&(i=l);var m=s-1;m<1&&(m=1);var u=i+1;u>l&&(u=c);var h=[];h.push(new k("",0,"<<")),h.push(new k("",m,"<"));for(var p=s;p<=i;p++)h.push(new k("".concat(n,"?curPage=").concat(p),p,p,"number"));return h.push(new k("",u,">")),h.push(new k("",l,">>","")),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"btn-container"},h.map((function(e,t){return r.a.createElement("button",{key:e.content,className:"btn-page "+(c===e.pageNum&&"number"===e.className?"activate ":""),onClick:function(){return o(e.pageNum)}},e.content)}))))}}]),a}(n.Component),R=a(27),S=a.n(R),O=function(e){var t="http://brawlstat.xyz:8080"+e;return S.a.get(t)},C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={playRecord:[],winRate:0,averageRank:0,tag:"",mode:"ALL",brawlerName:"ALL",isEmpty:!1,curPage:1,totalElements:10},n.changePageHandler=function(e){var t=new URLSearchParams(n.props.location.search),a=t.get("mode");console.log("changePageHandler mode !! ".concat(a));var r=t.get("tag"),o=t.get("brawlerName");n.getBattleLog(r,a,o,e);var c=e-1;t.set("page",c),t.set("size",5),n.props.history.push("/playList?".concat(t.toString())),console.log(r),console.log(t.toString()),console.log(t.get("tag"))},n.goStatistics=function(){n.props.history.push("/statistics?tag=".concat(n.state.tag.replace("#","%23")))},n.changeMode=n.changeMode.bind(Object(i.a)(n)),n.changeBrawler=n.changeBrawler.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"getTag",value:function(){return p.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).tag}},{key:"addZero",value:function(e){var t=e.toString();return 1==t.length&&(t="0"+t),t}},{key:"getBattleLog",value:function(e,t,a,n){var r=this;console.log("getBattleLog tag ".concat(e," mode ").concat(t," bralerName ").concat(a)),e=e.replace("#","%23");var o=n-1,c=t;"ALL"!==t&&null!==t&&void 0!==t||(c="");var l=a;"ALL"!==a&&null!==a&&void 0!==a||(l="");var s=new URLSearchParams;s.set("mode",c),s.set("brawlerName",l),s.set("page",o),s.set("size",5),console.log("searchParams ".concat(s.toString())),O("/record/".concat(e,"?").concat(s.toString())).then((function(e){console.log(e);var t=e.data;r.setState({playRecord:e.data.content,curPage:t.pageable.pageNumber+1,totalElements:t.totalElements})})).catch((function(e){console.log(e)}))}},{key:"getBattleLogByUrl",value:function(){}},{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(this.props.location.search),a=t.get("tag");null!==a&&this.setState({tag:a});var n=t.get("mode");null!==n&&this.setState({mode:n});var r=t.get("brawlerName");null!==r&&this.setState({brawlerName:r});var o=parseInt(t.get("page"));null!==o&&this.setState({page:o}),this.getBattleLog(a,n,r,o+1),O("/member/".concat(a.replace("#","%23"))).then((function(t){var a=t.data;e.setState({name:a.name})}))}},{key:"componentDidUpdate",value:function(e){var t=this.getQuery(e),a=this.getQuery(this.props);console.log("prevQuery.curpage ".concat(t.page,", query.curPage ").concat(a.page)),t.page!==a.page&&(console.log("componentWill Update !!!! ".concat(a.page)),this.getBattleLog(a.tag.replace("#","%23"),a.mode,a.brawlerName,parseInt(a.page)+1))}},{key:"changeMode",value:function(e){this.setState({mode:e}),this.getBattleLog(this.state.tag,e,this.state.brawlerName,1);var t=this.props.history,a=new URLSearchParams(this.props.location.search);a.set("mode",e),a.set("page",0),t.push("/playList?".concat(a))}},{key:"changeBrawler",value:function(e){this.setState({brawlerName:e}),this.getBattleLog(this.state.tag,this.state.mode,e,1);var t=this.props.history,a=new URLSearchParams(this.props.location.search);a.set("brawlerName",e),a.set("page",0),t.push("/playList?".concat(a.toString()))}},{key:"getQuery",value:function(e){return p.a.parse(e.location.search,{ignoreQueryPrefix:!0})}},{key:"isTrio",value:function(e){var t=!1;return"gemGrab"!==e&&"heist"!==e&&"siege"!==e&&"bounty"!==e&&"brawlBall"!==e&&"hotZone"!==e||(t=!0),t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"PlayList"),r.a.createElement("button",{onClick:this.goStatistics,className:"btn"},"Statistics"),r.a.createElement(v,{key:"mode-".concat(this.state.mode),changeMode:this.changeMode,mode:this.state.mode}),r.a.createElement(N,{key:this.state.brawlerName,brawlerName:this.state.brawlerName,changeBrawler:this.changeBrawler}),r.a.createElement("h2",null,this.state.name,"(",this.state.tag,")"),r.a.createElement("div",{className:this.state.isEmpty?"noRecord":"displayNone"},"No record"),this.state.playRecord.map((function(t){return e.isTrio(t.mode)?r.a.createElement(f,{key:t.battleTime,battleTime:t.battleTime,rank:t.resultRank,result:t.result,brawler_name:t.brawlerName,duration:t.duration,isStarPalyer:t.isStarPlayer,map:t.map,power:t.power,trophies:t.trophies,trophyChange:t.trophyChange,type:t.type,mode:t.mode,groupRecords:t.groupRecords}):r.a.createElement(w,{key:t.battleTime,battleTime:t.battleTime,rank:t.resultRank,result:t.result,brawler_name:t.brawlerName,duration:t.duration,isStarPalyer:t.isStarPlayer,map:t.map,power:t.power,trophies:t.trophies,trophyChange:t.trophyChange,mode:t.mode,groupRecords:t.groupRecords,tag:e.state.tag})})),r.a.createElement(L,{key:this.state.curPage,curPage:this.state.curPage,numTotal:this.state.totalElements,numShowItems:"5",pageUrl:"/playerList",onClick:this.changePageHandler.bind(this)}),r.a.createElement("div",{style:{marginBottom:"10px"}}))}}]),a}(n.Component),j=(a(97),{margin:"auto"}),P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={userList:[],curPage:0,numUser:0,pageUrl:"userList",nickname:""},n.searchNickname=n.searchNickname.bind(Object(i.a)(n)),n.searchInputChange=n.searchInputChange.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"getQuery",value:function(e){return p.a.parse(e.location.search,{ignoreQueryPrefix:!0})}},{key:"setUserList",value:function(e,t){var a=[];e.forEach((function(e){var t=e.data();t.tag=e.id,console.log(t),a.push(t)})),console.log(a),this.setState({userList:a,curPage:t})}},{key:"getUserList",value:function(e){var t=this;console.log("getUserList"),O("/member?page=".concat(e-1,"&size=15")).then((function(e){console.log(e);var a=e.data;t.setState({userList:a.content,curPage:a.number+1,numUser:a.totalElements})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){console.log("mount");var e=this.getQuery(this.props).curPage;void 0===e&&(e=1),e=parseInt(e),console.log("curPage ".concat(e)),void 0===e&&(e=1),this.getUserList(e)}},{key:"componentDidUpdate",value:function(e){var t=this.getQuery(e),a=this.getQuery(this.props);t.curPage!==a.curPage&&this.getUserList(a.curPage)}},{key:"changePageHandler",value:function(e){var t=this.props.history;console.log("changePageHandler"),this.setState({curPage:e}),t.push("/userList?curPage=".concat(e)),this.getUserList(e)}},{key:"showPlayList",value:function(e){var t=this.props.history;e=e.replace("#","%23"),t.push("/playList?tag=".concat(e)),console.log(e)}},{key:"searchNickname",value:function(){var e=this;O("/member?name=".concat(this.state.nickname,"&page=0&size=15")).then((function(t){console.log(t);var a=t.data;e.setState({userList:a.content,curPage:a.number+1,numUser:a.totalElements})}))}},{key:"searchInputChange",value:function(e){var t=e.target.value;this.setState({nickname:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"UserList"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"search user nickname",onChange:this.searchInputChange,value:this.state.nickname}),r.a.createElement("button",{onClick:this.searchNickname,className:"btn btn-primary"},"search")),r.a.createElement("table",{style:j,className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Index"),r.a.createElement("th",null,"Nickname(tag)"))),r.a.createElement("tbody",null,this.state.userList.map((function(t,a){return r.a.createElement("tr",{className:"cursor",key:t.tag,page:e.state.curPage,onClick:function(){return e.showPlayList(t.tag)}},r.a.createElement("td",null,15*(e.state.curPage-1)+a+1),r.a.createElement("td",null,t.name,"(",t.tag,")"))})))),r.a.createElement(L,{key:"pagination-".concat(this.state.curPage),curPage:this.state.curPage,numTotal:this.state.numUser,numShowItems:"15",pageUrl:"/userList",onClick:this.changePageHandler.bind(this)}))}}]),a}(n.Component),A=a(23),M=a(8),T=(a(98),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"topBar"},r.a.createElement("div",{className:"menuContainer"},r.a.createElement("div",{className:"item"},r.a.createElement(A.b,{to:"/"},"Home")),r.a.createElement("div",{className:"item"},r.a.createElement(A.b,{to:"/userList"},"User List")),r.a.createElement("div",{className:"item"},r.a.createElement(A.b,{to:"/mapList"},"Map List"))))}}]),a}(n.Component)),G=(a(101),["korean","english","japanese"]),U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={language:"korean"},e.changeLanguage=function(t){e.setState({language:t})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{marginTop:"30px"},className:"home"},r.a.createElement("div",{className:"languageContainer"},G.map((function(t,a){return r.a.createElement("div",{onClick:function(){e.changeLanguage(t)},className:"language ".concat(t===e.state.language?"selected":""),key:a},t)}))),"korean"===this.state.language?r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"content"},"\ube0c\ub864\uc2a4\ud0c0\uc988 \uc804\uc801 \uae30\ub85d \uc0ac\uc774\ud2b8\uc785\ub2c8\ub2e4.",r.a.createElement("br",null),r.a.createElement("br",null),"User List\ub97c \ud074\ub9ad\ud558\uc5ec \uc790\uc2e0\uc758 \ub2c9\ub124\uc784\uc744 \uac80\uc0c9\ud558\uace0 \uc804\uc801\uc744 \ud655\uc778\ud574\ubcf4\uc138\uc694.",r.a.createElement("br",null),"Map List\uc5d0\uc11c\ub294 \ub9f5\ubcc4 \ube0c\ub864\ub7ec \uc2b9\ub960\uc744 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4.",r.a.createElement("br",null),r.a.createElement("br",null),"1\uc2dc\uac04 \ub9c8\ub2e4 \uc804\uc801\uc774 \ub3d9\uae30\ud654\ub429\ub2c8\ub2e4.",r.a.createElement("br",null),r.a.createElement("br",null),"email : cubeprince@gmail.com")):"","english"===this.state.language?r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"content"},"This is the Brawl Stars game record site.",r.a.createElement("br",null),"Click on the User List on the top menu",r.a.createElement("br",null),"to search your nickname and check the history",r.a.createElement("br",null),"Check brawlers' win rate in Map List menu.",r.a.createElement("br",null),"Game records are synchronized every hour.",r.a.createElement("br",null),r.a.createElement("br",null),"email : cubeprince@gmail.com")):"","japanese"===this.state.language?r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"content"},"\u30d6\u30ed\u30fc\u30eb\u30b9\u30bf\u30fc\u30ba\u306e\u6226\u95d8\u8a18\u9332\u30b5\u30a4\u30c8\u3067\u3059\u3002",r.a.createElement("br",null),"UserList\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u81ea\u5206\u306e\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u3092\u691c\u7d22\u3057\u3066\u3001",r.a.createElement("br",null),"\u6226\u95d8\u8a18\u9332\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002",r.a.createElement("br",null),"MapList\u3067\u306f\u30de\u30c3\u30d7\u3054\u3068\u306e\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u52dd\u7387\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002",r.a.createElement("br",null),r.a.createElement("br",null),"\u6226\u95d8\u8a18\u9332\u306f1\u6642\u9593\u3054\u3068\u306b\u540c\u671f\u3055\u308c\u307e\u3059\u3002",r.a.createElement("br",null),r.a.createElement("br",null),"email : cubeprince@gmail.com")):"")}}]),a}(n.Component),B=(a(102),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={mode:"gemGrab",maps:[],filteredMaps:[]},e.clickMap=function(t,a){console.log(Object(i.a)(e));var n=t.replace("&","%26");e.props.history.push("/map?mapName=".concat(n,"&mode=").concat(a))},e.setFilteredMap=function(t){var a=e.state.maps;"ALL"!==t&&void 0!==t&&(a=e.state.maps.filter((function(e){return e.mode===t}))),e.setState({filteredMaps:a})},e.changeMode=function(t){console.log("changeMode ".concat(t)),console.log(Object(i.a)(e)),e.setFilteredMap(t),e.props.history.push("/mapList?mode=".concat(t))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=p.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});console.log("query mode ".concat(t.mode)),O("/gameMap").then((function(a){console.log(a);var n=a.data,r="gemGrab";void 0!==t.mode&&(r=t.mode),e.setState({maps:n,mode:r}),e.setFilteredMap(r)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mapList"},r.a.createElement("div",null,r.a.createElement(v,{key:this.state.mode,changeMode:this.changeMode,mode:this.state.mode})),r.a.createElement("div",{className:"gemGrabContainer"},this.state.filteredMaps.map((function(t,a){return r.a.createElement("div",{key:a,className:"gemGrabItem"},t.name,r.a.createElement("img",{onClick:function(){e.clickMap(t.name,t.mode)},src:"./images/maps/".concat(-1!==t.mode.indexOf("Showdown")?"showdown":t.mode,"/").concat(t.name,".png")}))}))))}}]),a}(n.Component)),I=a(22),D=a(28),x=(a(103),a(25));function Q(e){var t=!1;return"gemGrab"!==e&&"heist"!==e&&"siege"!==e&&"bounty"!==e&&"brawlBall"!==e&&"hotZone"!==e||(t=!0),t}function z(e){return"soloShowdown"===e}function Y(e){return"duoShowdown"===e}a(104);var F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={recordArr:[],sumTotalGameNum:0},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.recordArr,a=e.sumTotalGameNum;this.setState({recordArr:t,sumTotalGameNum:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.mode,n=t.isPersonal;return r.a.createElement("div",{className:"recordResult"},r.a.createElement("div",{className:"infoContainer"},r.a.createElement("table",{className:"table info"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Name"),Q(a)?r.a.createElement("th",null,"Win Rate ",r.a.createElement(b.a,{icon:x.b})):Y(a)||z(a)?r.a.createElement("th",null,"Avg Rank ",r.a.createElement(b.a,{icon:x.b})):r.a.createElement("th",null,"# of Games"),r.a.createElement("th",null,"Pick Rate ",r.a.createElement(b.a,{icon:x.a})))),r.a.createElement("tbody",null,this.state.recordArr.map((function(t,n){return r.a.createElement("tr",{key:t.brawlerName},r.a.createElement("td",null,n+1),r.a.createElement("td",null,r.a.createElement("div",{className:"brawler"},r.a.createElement("img",{src:"./images/".concat(t.brawlerName,".png")}),r.a.createElement("div",{className:"brawlerName"},t.brawlerName))),r.a.createElement("td",null,Y(a)||z(a)?r.a.createElement("div",{className:"averageRank"},Math.round(100*t.averageRank)/100):Q(a)?r.a.createElement("div",{className:"winRate"},Math.round(1e3*t.winRate)/10,"%"):r.a.createElement("div",{className:"numberOfGames"},t.totalGameNum)),r.a.createElement("td",null,r.a.createElement("div",{className:"totalGame"},Math.round(t.totalGameNum/e.state.sumTotalGameNum*1e4)/100,"%")))}))),n?r.a.createElement("tfoot",null,function(e){return"ALL"===e}(a)?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Total # of Games"),r.a.createElement("td",{colSpan:"2"},this.state.sumTotalGameNum," games")):Q(a)?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Avg Win Rate"),r.a.createElement("td",null,Math.round(this.state.recordArr.map((function(e){return e.victory})).reduce((function(e,t){return e+t}),0)/this.state.sumTotalGameNum*1e3)/10,"%"),r.a.createElement("td",null,this.state.sumTotalGameNum," games")):z(a)||Y(a)?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Avg Rank"),r.a.createElement("td",null,Math.round(this.state.recordArr.map((function(e){return e.averageRank*e.totalGameNum})).reduce((function(e,t){return e+t}),0)/this.state.sumTotalGameNum*10)/10),r.a.createElement("td",null,this.state.sumTotalGameNum," games")):""):r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Total # of Games"),r.a.createElement("td",{colSpan:"2"},this.state.sumTotalGameNum," games"))))))}}]),a}(n.Component),H=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={mapName:"",recordArr:[],sumTotalGameNum:0,trophyRange:""},e.changeTrophyRange=function(t){e.setState({trophyRange:t.target.value});var a=e.props.history,n=new URLSearchParams(e.props.location.search);n.set("trophyRange",t.target.value),e.getRecordResult(n.get("mapName"),n.get("mode"),n.get("trophyRange")),a.push("/map?".concat(n.toString()))},e.getRecordResult=function(t,a,n){var r={},o=[],c=new URLSearchParams;c.set("mode",a),c.set("trophyRange",n),c.set("map",t),O("/record/result?".concat(c)).then((function(t){console.log(t);var n=t.data;console.log(n),n.forEach((function(e){Q(a)?(void 0===r[e.brawlerName]&&(r[e.brawlerName]={}),r[e.brawlerName]=Object(D.a)({},r[e.brawlerName],Object(I.a)({},e.result,e.cnt))):r[e.brawlerName]={brawlerName:e.brawlerName,averageRank:e.averageRank,cnt:e.cnt}})),console.log(r);var c=0;if(Q(a)){for(var l in r){var s=r[l],i=s.victory||0,m=s.defeat||0,u=s.draw||0,h=i+m+u;o.push({brawlerName:l,victory:i,defeat:m,draw:u,winRate:i/h,totalGameNum:h}),c+=h}o.sort((function(e,t){return t.winRate-e.winRate}))}else{for(var p in r){var g=r[p],d=g.averageRank,v=g.cnt;o.push({brawlerName:p,averageRank:d,totalGameNum:v}),c+=v}o.sort((function(e,t){return e.averageRank-t.averageRank}))}console.log(o),e.setState({recordArr:o,sumTotalGameNum:c})})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"isSolo",value:function(e){return"soloShowdown"===e}},{key:"isDuo",value:function(e){return"duoShowdown"===e}},{key:"componentDidMount",value:function(){var e=p.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});console.log(e);var t=e.mapName,a=e.mode,n=e.trophyRange||this.state.trophyRange;console.log(t),this.setState({trophyRange:n}),this.getRecordResult(t,a,n)}},{key:"render",value:function(){var e=p.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});console.log(e);var t=e.mapName,a=e.mode;return r.a.createElement("div",{className:"mapClass"},""===t?r.a.createElement("div",null,"invalid map name"):r.a.createElement(F,{key:this.state.recordArr,recordArr:this.state.recordArr,sumTotalGameNum:this.state.sumTotalGameNum,mode:a}))}}]),a}(n.Component),K=(a(105),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={tag:"",mode:"gemGrab",recordArr:[],sumTotalGameNum:0},e.changeMode=function(t){console.log("changeMode"),e.setState({mode:t});var a=new URLSearchParams(e.props.location.search);a.set("mode",t),e.getRecordResult(a)},e}return Object(s.a)(a,[{key:"getRecordResult",value:function(e){var t=this,a={},n=[],r=e.get("mode");O("/record/result?".concat(e)).then((function(e){console.log(e);var o=e.data;console.log(o),o.forEach((function(e){Q(r)?(void 0===a[e.brawlerName]&&(a[e.brawlerName]={}),a[e.brawlerName]=Object(D.a)({},a[e.brawlerName],Object(I.a)({},e.result,e.cnt))):a[e.brawlerName]={brawlerName:e.brawlerName,averageRank:e.averageRank,cnt:e.cnt}})),console.log(a);var c=0;if("ALL"===r){for(var l in a){var s=a[l],i=s.brawlerName,m=s.cnt;n.push({brawlerName:i,totalGameNum:m}),c+=m}n.sort((function(e,t){return t.totalGameNum-e.totalGameNum}))}else if(Q(r)){for(var u in a){var h=a[u],p=h.victory||0,g=h.defeat||0,d=h.draw||0,v=p+g+d;n.push({brawlerName:u,victory:p,defeat:g,draw:d,winRate:p/v,totalGameNum:v}),c+=v}n.sort((function(e,t){return t.winRate-e.winRate}))}else{for(var b in a){var E=a[b],f=E.averageRank,y=E.cnt;n.push({brawlerName:b,averageRank:f,totalGameNum:y}),c+=y}n.sort((function(e,t){return e.averageRank-t.averageRank}))}console.log(n),t.setState({recordArr:n,sumTotalGameNum:c})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search),t=e.get("tag"),a=e.get("mode")||this.state.mode;e.set("mode",a),this.setState({tag:t}),this.getRecordResult(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"statistics"},r.a.createElement("div",{className:"modeListContainer"},r.a.createElement(v,{key:this.state.mode,mode:this.state.mode,changeMode:this.changeMode})),r.a.createElement(F,{key:this.state.recordArr,recordArr:this.state.recordArr,sumTotalGameNum:this.state.sumTotalGameNum,mode:this.state.mode,isPersonal:!0})))}}]),a}(n.Component));var J=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A.a,null,r.a.createElement(T,null),r.a.createElement(M.a,{path:"/",component:U,exact:!0}),r.a.createElement(M.a,{path:"/playList",component:C,exact:!0}),r.a.createElement(M.a,{path:"/userList",component:P}),r.a.createElement(M.a,{path:"/mapList",component:B}),r.a.createElement(M.a,{path:"/map",component:H}),r.a.createElement(M.a,{path:"/statistics",component:K})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,a){},51:function(e,t,a){e.exports=a(106)},56:function(e,t,a){},57:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},58:function(e,t,a){},71:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.a6b2501b.chunk.js.map