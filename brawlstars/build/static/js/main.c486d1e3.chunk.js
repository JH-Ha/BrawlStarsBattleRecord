(this.webpackJsonpbrawlstars=this.webpackJsonpbrawlstars||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(48),c=a.n(o),s=(a(56),a(57),a(58),a(4)),l=a(5),i=a(11),m=a(7),u=a(6),h=a(17),p=a.n(h),d=a(49),g=a.n(d),v=(a(70),g.a.initializeApp({apiKey:"AIzaSyAvw6GqjvdJ30u8lhJPDpx_Asz6fw9QwaA",authDomain:"brawlstars-260814.firebaseapp.com",databaseURL:"https://brawlstars-260814.firebaseio.com",projectId:"brawlstars-260814",storageBucket:"brawlstars-260814.appspot.com",messagingSenderId:"184744257860",appId:"1:184744257860:web:7760bdf65e67cbeb9f8f11",measurementId:"G-36T0YR0TBC"}).firestore(),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={value:"gemGrab"},n.change=n.change.bind(Object(i.a)(n)),n}return Object(l.a)(a,[{key:"change",value:function(e){var t=this.props.changeMode,a=e.target.value;this.setState({value:a}),t(a)}},{key:"componentDidMount",value:function(){var e=this.props.mode;console.log("modeList : ".concat(e)),this.setState({value:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"selectBox"},r.a.createElement("label",{htmlFor:"modeList"},"mode "),r.a.createElement("select",{id:"modeList",onChange:this.change,value:this.state.value},r.a.createElement("option",{value:"ALL"},"ALL"),r.a.createElement("option",{value:"gemGrab"},"Gem Grab"),r.a.createElement("option",{value:"heist"},"Heist"),r.a.createElement("option",{value:"brawlBall"},"Brawl Ball"),r.a.createElement("option",{value:"bounty"},"Bounty"),r.a.createElement("option",{value:"siege"},"Siege"),r.a.createElement("option",{value:"hotZone"},"Hot Zone"),r.a.createElement("option",{value:"soloShowdown"},"Solo Showdown"),r.a.createElement("option",{value:"duoShowdown"},"Duo Showdown")))}}]),a}(n.Component)),E=(a(71),a(18)),b=(a(76),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.brawlerName,a=e.playerName,n=e.trophies,o=e.power;return r.a.createElement("div",{className:"playerTile"},r.a.createElement("div",null,r.a.createElement("div",null,n),r.a.createElement("div",{class:"imgContainer"},r.a.createElement("img",{src:"/images/".concat(t,".png"),width:"50px"}),r.a.createElement("div",{className:"powerContainer"},r.a.createElement("div",{className:"levelText"},"Lv"),r.a.createElement("div",{className:"power"},o))),r.a.createElement("div",{className:"playerName"},a)))}}]),a}(n.Component));function f(e){var t=!1;return"gemGrab"!==e&&"heist"!==e&&"siege"!==e&&"bounty"!==e&&"brawlBall"!==e&&"hotZone"!==e||(t=!0),t}function N(e){return"soloShowdown"===e}function w(e){return"duoShowdown"===e}function y(e){var t=e.substr(0,4),a=e.substr(4,2),n=e.substr(6,2),r=e.substr(8,3),o=e.substr(11,2),c=e.substr(13),s=new Date("".concat(t,"-").concat(a,"-").concat(n).concat(r,":").concat(o,":").concat(c)),l=(new Date-s)/1e3,i="";if(l<86400){var m=Math.floor(l/3600),u=Math.floor(l/60-60*m);m>=1&&(i+="".concat(m," h ")),u>=1&&(i+="".concat(u," m ")),i+="ago"}else{function h(e){return parseInt(e)<10?"0"+e:e}i="".concat(s.getFullYear(),"-").concat(h(s.getMonth()+1),"-").concat(h(s.getDate())," ").concat(h(s.getHours()),":").concat(h(s.getMinutes()),":").concat(h(s.getSeconds()))}return i}var k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imgSrc:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props);var e=this.props.brawler_name;this.setState({imgSrc:"/images/".concat(e,".png")})}},{key:"render",value:function(){var e=this.props,t=e.battleTime,a=(e.brawler_name,e.duration),n=(e.isStarPalyer,e.map),o=(e.power,e.trophies,e.trophyChange),c=e.result,s=e.type,l=e.mode,i=e.groupRecords;return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"trioContainer ".concat(c)},r.a.createElement("div",{className:"typeInfo info ".concat(c)},r.a.createElement("div",{className:"duration"},a," seconds"),r.a.createElement("div",{className:"gameType"},s||"game"),r.a.createElement("div",{className:"battleTime"},y(t))),r.a.createElement("div",{className:"gameInfo top ".concat(c)},r.a.createElement("div",{className:"modeInfo"},r.a.createElement("div",{className:"modeImg"},r.a.createElement("img",{src:"/images/mode/".concat(l,".png")})),r.a.createElement("div",{className:"modeMap"},r.a.createElement("div",{className:"mode"},l),r.a.createElement("div",{className:"map"},n))),r.a.createElement("div",{className:"gameResult"},c),r.a.createElement("div",{className:"trophyChange"},o)),r.a.createElement("div",{className:"playerInfo info ".concat(c)},r.a.createElement("div",{className:"trioPlayerContainer"},i.map((function(e,t){if(0===e.teamId)return r.a.createElement(b,{key:t,brawlerName:e.brawlerName,playerName:e.playerName,trophies:e.trophies,power:e.power})}))),r.a.createElement("div",{className:"durationContainer"},r.a.createElement("div",null,"vs")),r.a.createElement("div",{className:"trioPlayerContainer"},i.map((function(e,t){if(1===e.teamId)return r.a.createElement(b,{key:t,brawlerName:e.brawlerName,playerName:e.playerName,trophies:e.trophies,power:e.power})}))))))}}]),a}(n.Component),R=["SHELLY","NITA","COLT","BULL","JESSIE","BROCK","DYNAMIKE","EL PRIMO","BARLEY","POCO","RICO","DARRYL","PIPER","PENNY","BO","MORTIS","TARA","PAM","FRANK","CROW","SPIKE","LEON","GENE","TICK","ROSA","8-BIT","CARL","BIBI","EMZ","BEA","SPROUT","SANDY","JACKY","MAX","MR. P","GALE","COLETTE","AMBER","BYRON","STU","COLONEL RUFFS","LOU","EDGAR","SURGE"];(R=R.sort()).unshift("ALL");var S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={brawlerName:"ALL",changeBrawler:""},n.change=n.change.bind(Object(i.a)(n)),n}return Object(l.a)(a,[{key:"change",value:function(e){var t=e.target.value;this.props.changeBrawler(t),this.setState({value:t})}},{key:"componentDidMount",value:function(){var e=this.props.brawlerName;this.setState({brawlerName:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"selectBox"},r.a.createElement("label",{htmlFor:"brawlerName"},"brawler"),r.a.createElement("select",{id:"brawlerName",onChange:this.change,value:this.state.brawlerName},R.map((function(e,t){return r.a.createElement("option",{key:e,label:e,value:e},e)}))))}}]),a}(n.Component),O=(a(77),a(38),a(78),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={trophyChange:"",rankCss:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.trophyChange,a=e.mode,n=e.rank,r=null;r=t>0?"+"+t:t,"soloShowdown"==a?this.setState({rankCss:Math.floor((n+1)/2)}):this.setState({rankCss:n}),this.setState({trophyChange:r})}},{key:"render",value:function(){var e=this.props,t=e.groupRecords,a=e.tag,n=e.map,o=(e.mode,e.type),c="",s="",l="",i="",m="";return t.forEach((function(e){e.tag===a&&(c=e.battleTime,s=e.resultRank,l=e.brawlerName,i=e.power,m=e.trophies,e.trophyChange)})),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"SoloDuoModeContainer rank".concat(this.state.rankCss)},r.a.createElement("div",null,o),r.a.createElement("div",{className:"topContainer rank".concat(this.state.rankCss)},r.a.createElement("div",{className:"rank rank".concat(this.state.rankCss,"Content")},s),r.a.createElement("div",null,y(c)),r.a.createElement("div",null,this.state.trophyChange)),r.a.createElement("div",{className:"gameInfoContainer rank".concat(this.state.rankCss)},r.a.createElement("div",null,r.a.createElement("img",{src:"/images/".concat(l,".png"),width:"50px"}),r.a.createElement("div",null,l)),r.a.createElement("div",{className:"tableContainer"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"map"),r.a.createElement("th",null,"power"),r.a.createElement("th",null,"trophies"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",null,i),r.a.createElement("td",null,m))))))))}}]),a}(n.Component)),L=(a(79),function e(t,a,n,r){Object(s.a)(this,e),this.link=t,this.pageNum=a,this.content=n,this.className=r}),C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={curPage:1},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){}},{key:"componentDidMount",value:function(){this.setState({curPage:this.props.curPage})}},{key:"render",value:function(){var e=this.props,t=e.numTotal,a=e.numShowItems,n=e.pageUrl,o=e.onClick,c=this.state.curPage,s=Math.floor((t-1)/a)+1;void 0===c&&(c=1),void 0===a&&(a=15),c<1?c=1:c>s&&(c=s);var l=5*Math.floor((c-1)/5)+1,i=l+5-1;l<1&&(l=1),i>s&&(i=s);var m=l-1;m<1&&(m=1);var u=i+1;u>s&&(u=c);var h=[];h.push(new L("",0,"<<")),h.push(new L("",m,"<"));for(var p=l;p<=i;p++)h.push(new L("".concat(n,"?curPage=").concat(p),p,p,"number"));return h.push(new L("",u,">")),h.push(new L("",s,">>","")),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"btn-container"},h.map((function(e,t){return r.a.createElement("button",{key:e.content,className:"btn-page "+(c===e.pageNum&&"number"===e.className?"activate ":""),onClick:function(){return o(e.pageNum)}},e.content)}))))}}]),a}(n.Component),A=a(27),j=a.n(A),P=function(e){var t="http://brawlstat.xyz"+e;return j.a.get(t)},M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={playRecord:[],winRate:0,averageRank:0,tag:"",mode:"ALL",brawlerName:"ALL",isEmpty:!1,curPage:1,totalElements:10},n.changePageHandler=function(e){var t=n.props.match.params,a=new URLSearchParams(n.props.location.search),r=a.get("mode");console.log("changePageHandler mode !! ".concat(r));var o=t.tag,c=a.get("brawlerName");n.getBattleLog(o,r,c,e);var s=e-1;a.set("page",s),a.set("size",5),n.props.history.push("/battleLog/".concat(o,"?").concat(a.toString()))},n.goStatistics=function(){n.props.history.push("/statistics?tag=".concat(n.state.tag.replace("#","%23")))},n.changeMode=n.changeMode.bind(Object(i.a)(n)),n.changeBrawler=n.changeBrawler.bind(Object(i.a)(n)),n}return Object(l.a)(a,[{key:"getTag",value:function(){return p.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).tag}},{key:"addZero",value:function(e){var t=e.toString();return 1==t.length&&(t="0"+t),t}},{key:"getBattleLog",value:function(e,t,a,n){var r=this;console.log("getBattleLog tag ".concat(e," mode ").concat(t," bralerName ").concat(a)),e=e.replace("#","%23");var o=n-1,c=t;"ALL"!==t&&null!==t&&void 0!==t||(c="");var s=a;"ALL"!==a&&null!==a&&void 0!==a||(s="");var l=new URLSearchParams;l.set("mode",c),l.set("brawlerName",s),l.set("page",o),l.set("size",5),console.log("searchParams ".concat(l.toString())),P("/record/".concat(e,"?").concat(l.toString())).then((function(e){console.log(e);var t=e.data;r.setState({playRecord:e.data.content,curPage:t.pageable.pageNumber+1,totalElements:t.totalElements})})).catch((function(e){console.log(e)}))}},{key:"getBattleLogByUrl",value:function(){}},{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(this.props.location.search),a=this.props.match.params.tag;null!==a&&this.setState({tag:unescape(a)});var n=t.get("mode");null!==n&&this.setState({mode:n});var r=t.get("brawlerName");null!==r&&this.setState({brawlerName:r});var o=parseInt(t.get("page"));null!==o&&this.setState({page:o}),this.getBattleLog(a,n,r,o+1),P("/member/".concat(a.replace("#","%23"))).then((function(t){var a=t.data;e.setState({name:a.name})}))}},{key:"componentDidUpdate",value:function(e){var t=this.getQuery(e),a=this.getQuery(this.props),n=this.props.match.params;console.log("prevQuery.curpage ".concat(t.page,", query.curPage ").concat(a.page)),t.page!==a.page&&(console.log("componentWill Update !!!! ".concat(a.page)),this.getBattleLog(n.tag.replace("#","%23"),a.mode,a.brawlerName,parseInt(a.page)+1))}},{key:"changeMode",value:function(e){this.setState({mode:e}),this.getBattleLog(this.state.tag,e,this.state.brawlerName,1);var t=this.props.history,a=new URLSearchParams(this.props.location.search);a.set("mode",e),a.set("page",0);var n=this.props.match.params;t.push("/battleLog/".concat(n.tag,"?").concat(a))}},{key:"changeBrawler",value:function(e){this.setState({brawlerName:e}),this.getBattleLog(this.state.tag,this.state.mode,e,1);var t=this.props.history,a=new URLSearchParams(this.props.location.search);a.set("brawlerName",e),a.set("page",0);var n=this.props.match.params;t.push("/battleLog/".concat(n.tag,"?").concat(a.toString()))}},{key:"getQuery",value:function(e){return p.a.parse(e.location.search,{ignoreQueryPrefix:!0})}},{key:"isTrio",value:function(e){var t=!1;return"gemGrab"!==e&&"heist"!==e&&"siege"!==e&&"bounty"!==e&&"brawlBall"!==e&&"hotZone"!==e||(t=!0),t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Battle Log"),r.a.createElement("button",{onClick:this.goStatistics,className:"btn"},"Statistics"),r.a.createElement(v,{key:"mode-".concat(this.state.mode),changeMode:this.changeMode,mode:this.state.mode}),r.a.createElement(S,{key:this.state.brawlerName,brawlerName:this.state.brawlerName,changeBrawler:this.changeBrawler}),r.a.createElement("h2",null,this.state.name,"(",this.state.tag,")"),r.a.createElement("div",{className:this.state.isEmpty?"noRecord":"displayNone"},"No record"),this.state.playRecord.map((function(t){return e.isTrio(t.mode)?r.a.createElement(k,{key:t.battleTime,battleTime:t.battleTime,rank:t.resultRank,result:t.result,brawler_name:t.brawlerName,duration:t.duration,isStarPalyer:t.isStarPlayer,map:t.map,power:t.power,trophies:t.trophies,trophyChange:t.trophyChange,type:t.type,mode:t.mode,groupRecords:t.groupRecords}):r.a.createElement(O,{key:t.battleTime,battleTime:t.battleTime,rank:t.resultRank,result:t.result,brawler_name:t.brawlerName,duration:t.duration,isStarPalyer:t.isStarPlayer,map:t.map,power:t.power,trophies:t.trophies,trophyChange:t.trophyChange,mode:t.mode,groupRecords:t.groupRecords,tag:e.state.tag})})),r.a.createElement(C,{key:this.state.curPage,curPage:this.state.curPage,numTotal:this.state.totalElements,numShowItems:"5",pageUrl:"/playerList",onClick:this.changePageHandler.bind(this)}),r.a.createElement("div",{style:{marginBottom:"10px"}}))}}]),a}(n.Component),T=(a(97),{margin:"auto"}),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={userList:[],curPage:0,numUser:0,pageUrl:"userList",nickname:""},n.changePageHandler=function(e){var t=n.props.history;n.setState({curPage:e}),t.push("/userList?curPage=".concat(e))},n.searchInputChange=function(e){var t=e.target.value;n.setState({nickname:t})},n.searchNickname=n.searchNickname.bind(Object(i.a)(n)),n}return Object(l.a)(a,[{key:"getQuery",value:function(e){return p.a.parse(e.location.search,{ignoreQueryPrefix:!0})}},{key:"setUserList",value:function(e,t){var a=[];e.forEach((function(e){var t=e.data();t.tag=e.id,console.log(t),a.push(t)})),this.setState({userList:a,curPage:t})}},{key:"getUserList",value:function(e){var t=this;console.log("getUserList");var a=e-1;P("/member?name=".concat(this.state.nickname,"&page=").concat(a,"&size=15")).then((function(e){console.log(e);var a=e.data;t.setState({userList:a.content,curPage:a.number+1,numUser:a.totalElements})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this.getQuery(this.props).curPage;void 0===e&&(e=1),void 0===(e=parseInt(e))&&(e=1),this.getUserList(e)}},{key:"componentDidUpdate",value:function(e){var t=this.getQuery(e),a=this.getQuery(this.props);t.curPage!==a.curPage&&this.getUserList(a.curPage)}},{key:"showPlayList",value:function(e){var t=this.props.history;e=e.replace("#","%23"),t.push("/battleLog/".concat(e))}},{key:"searchNickname",value:function(){var e=this;P("/member?name=".concat(this.state.nickname,"&page=0&size=15")).then((function(t){var a=t.data;e.setState({userList:a.content,curPage:a.number+1,numUser:a.totalElements})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"userList"},r.a.createElement("h1",null,"User List"),r.a.createElement("div",{className:"inputContainer"},r.a.createElement("input",{placeholder:"search user nickname",onChange:this.searchInputChange,value:this.state.nickname}),r.a.createElement("button",{onClick:this.searchNickname,className:"btn btn-primary"},"search")),r.a.createElement("table",{style:T,className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Index"),r.a.createElement("th",null,"Nickname(tag)"))),r.a.createElement("tbody",null,this.state.userList.map((function(t,a){return r.a.createElement("tr",{className:"cursor",key:t.tag,page:e.state.curPage,onClick:function(){return e.showPlayList(t.tag)}},r.a.createElement("td",null,15*(e.state.curPage-1)+a+1),r.a.createElement("td",null,t.name,"(",t.tag,")"))})))),r.a.createElement(C,{key:"pagination-".concat(this.state.curPage),curPage:this.state.curPage,numTotal:this.state.numUser,numShowItems:"15",pageUrl:"/userList",onClick:this.changePageHandler}))}}]),a}(n.Component),U=a(25),D=a(8),B=(a(98),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"topBar"},r.a.createElement("div",{className:"menuContainer"},r.a.createElement("div",{className:"item"},r.a.createElement(U.b,{to:"/"},"Home")),r.a.createElement("div",{className:"item"},r.a.createElement(U.b,{to:"/userList"},"User List")),r.a.createElement("div",{className:"item"},r.a.createElement(U.b,{to:"/mapList"},"Map List"))))}}]),a}(n.Component)),I=(a(101),["korean","english","japanese"]),F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={language:"korean"},e.changeLanguage=function(t){e.setState({language:t})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{marginTop:"30px"},className:"home"},r.a.createElement("div",{className:"languageContainer"},I.map((function(t,a){return r.a.createElement("div",{onClick:function(){e.changeLanguage(t)},className:"language ".concat(t===e.state.language?"selected":""),key:a},t)}))),"korean"===this.state.language?r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"content"},"\ube0c\ub864\uc2a4\ud0c0\uc988 \uc804\uc801 \uae30\ub85d \uc0ac\uc774\ud2b8\uc785\ub2c8\ub2e4.",r.a.createElement("br",null),r.a.createElement("br",null),"User List\ub97c \ud074\ub9ad\ud558\uc5ec \uc790\uc2e0\uc758 \ub2c9\ub124\uc784\uc744 \uac80\uc0c9\ud558\uace0 \uc804\uc801\uc744 \ud655\uc778\ud574\ubcf4\uc138\uc694.",r.a.createElement("br",null),"Map List\uc5d0\uc11c\ub294 \ub9f5\ubcc4 \ube0c\ub864\ub7ec \uc2b9\ub960\uc744 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4.",r.a.createElement("br",null),r.a.createElement("br",null),"1\uc2dc\uac04 \ub9c8\ub2e4 \uc804\uc801\uc774 \ub3d9\uae30\ud654\ub429\ub2c8\ub2e4.",r.a.createElement("br",null),r.a.createElement("br",null),"email : cubeprince@gmail.com")):"","english"===this.state.language?r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"content"},"This is the Brawl Stars game record site.",r.a.createElement("br",null),"Click on the User List on the top menu",r.a.createElement("br",null),"to search your nickname and check the history",r.a.createElement("br",null),"Check brawlers' win rate in Map List menu.",r.a.createElement("br",null),"Game records are synchronized every hour.",r.a.createElement("br",null),r.a.createElement("br",null),"email : cubeprince@gmail.com")):"","japanese"===this.state.language?r.a.createElement("div",{className:"contentContainer"},r.a.createElement("div",{className:"content"},"\u30d6\u30ed\u30fc\u30eb\u30b9\u30bf\u30fc\u30ba\u306e\u6226\u95d8\u8a18\u9332\u30b5\u30a4\u30c8\u3067\u3059\u3002",r.a.createElement("br",null),"UserList\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u81ea\u5206\u306e\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u3092\u691c\u7d22\u3057\u3066\u3001",r.a.createElement("br",null),"\u6226\u95d8\u8a18\u9332\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002",r.a.createElement("br",null),"MapList\u3067\u306f\u30de\u30c3\u30d7\u3054\u3068\u306e\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u52dd\u7387\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002",r.a.createElement("br",null),r.a.createElement("br",null),"\u6226\u95d8\u8a18\u9332\u306f1\u6642\u9593\u3054\u3068\u306b\u540c\u671f\u3055\u308c\u307e\u3059\u3002",r.a.createElement("br",null),r.a.createElement("br",null),"email : cubeprince@gmail.com")):"")}}]),a}(n.Component),x=(a(102),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={mode:"gemGrab",maps:[],filteredMaps:[]},e.clickMap=function(t,a){console.log(Object(i.a)(e));var n=t.replace("&","%26");e.props.history.push("/map/".concat(n,"/mode/").concat(a))},e.setFilteredMap=function(t){var a=e.state.maps;"ALL"!==t&&void 0!==t&&(a=e.state.maps.filter((function(e){return e.mode===t}))),e.setState({filteredMaps:a})},e.changeMode=function(t){console.log("changeMode ".concat(t)),console.log(Object(i.a)(e)),e.setFilteredMap(t),e.props.history.push("/mapList?mode=".concat(t))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=p.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});console.log("query mode ".concat(t.mode)),P("/gameMap").then((function(a){console.log(a);var n=a.data,r="gemGrab";void 0!==t.mode&&(r=t.mode),e.setState({maps:n,mode:r}),e.setFilteredMap(r)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mapList"},r.a.createElement("div",null,r.a.createElement(v,{key:this.state.mode,changeMode:this.changeMode,mode:this.state.mode})),r.a.createElement("div",{className:"gemGrabContainer"},this.state.filteredMaps.map((function(t,a){return r.a.createElement("div",{key:a,className:"gemGrabItem"},t.name,r.a.createElement("img",{onClick:function(){e.clickMap(t.name,t.mode)},src:"./images/maps/".concat(-1!==t.mode.indexOf("Showdown")?"showdown":t.mode,"/").concat(t.name,".png")}))}))))}}]),a}(n.Component)),H=a(24),Q=a(28),Y=(a(103),a(19)),z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.order;return r.a.createElement(r.a.Fragment,null,"DEFAULT"===e?r.a.createElement(E.a,{icon:Y.c}):"DESC"===e?r.a.createElement(E.a,{icon:Y.d}):r.a.createElement(E.a,{icon:Y.e}))}}]),a}(n.Component),W=(a(104),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={recordArr:[],sumTotalGameNum:0,winRateOrder:"DESC",avgRankOrder:"ASC",pickRateOrder:"DEFAULT"},e.toggleWinRate=function(){var t=[],a="DEFAULT";"DESC"===e.state.winRateOrder?(a="ASC",t=e.state.recordArr.sort((function(e,t){return e.winRate-t.winRate}))):(a="DESC",t=e.state.recordArr.sort((function(e,t){return t.winRate-e.winRate}))),e.setState({recordArr:t,winRateOrder:a,pickRateOrder:"DEFAULT",avgRankOrder:"DEFAULT"})},e.togglePickRate=function(){var t=[],a="DEFAULT";"DESC"===e.state.pickRateOrder?(a="ASC",t=e.state.recordArr.sort((function(e,t){return e.totalGameNum-t.totalGameNum}))):(a="DESC",t=e.state.recordArr.sort((function(e,t){return t.totalGameNum-e.totalGameNum}))),e.setState({recordArr:t,winRateOrder:"DEFAULT",pickRateOrder:a,avgRankOrder:"DEFAULT"})},e.toggleAvgRank=function(){var t=[],a="DEFAULT";"DESC"===e.state.avgRankOrder||"DEFAULT"===e.state.avgRankOrder?(a="ASC",t=e.state.recordArr.sort((function(e,t){return e.averageRank-t.averageRank}))):(a="DESC",t=e.state.recordArr.sort((function(e,t){return t.averageRank-e.averageRank}))),e.setState({recordArr:t,winRateOrder:"DEFAULT",pickRateOrder:"DEFAULT",avgRankOrder:a})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.recordArr,a=e.sumTotalGameNum;this.setState({recordArr:t,sumTotalGameNum:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.mode,n=t.isPersonal;return r.a.createElement("div",{className:"recordResult"},r.a.createElement("div",{className:"infoContainer"},r.a.createElement("table",{className:"table info"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Name"),f(a)?r.a.createElement("th",{onClick:this.toggleWinRate,className:"rateHeader"},r.a.createElement("span",{className:"rateHeaderContent"},"Win Rate"),r.a.createElement(z,{order:this.state.winRateOrder,key:"winRate-".concat(this.state.winRateOrder)})):w(a)||N(a)?r.a.createElement("th",{onClick:this.toggleAvgRank,className:"rateHeader"},r.a.createElement("span",{className:"rateHeaderContent"},"Avg Rank"),r.a.createElement(z,{order:this.state.avgRankOrder,key:"avgRank-".concat(this.state.avgRankOrder)})," "):r.a.createElement("th",null,"# of Games"),r.a.createElement("th",{onClick:this.togglePickRate,className:"rateHeader"},r.a.createElement("span",{className:"rateHeaderContent"},"Pick Rate "),r.a.createElement(z,{order:this.state.pickRateOrder,key:"pickRate-".concat(this.state.pickRateOrder)})))),r.a.createElement("tbody",null,this.state.recordArr.map((function(t,n){return r.a.createElement("tr",{key:t.brawlerName},r.a.createElement("td",null,n+1),r.a.createElement("td",null,r.a.createElement("div",{className:"brawler"},r.a.createElement("img",{src:"/images/".concat(t.brawlerName,".png")}),r.a.createElement("div",{className:"brawlerName"},t.brawlerName))),r.a.createElement("td",null,w(a)||N(a)?r.a.createElement("div",{className:"averageRank"},Math.round(100*t.averageRank)/100):f(a)?r.a.createElement("div",{className:"winRate"},Math.round(1e3*t.winRate)/10,"%"):r.a.createElement("div",{className:"numberOfGames"},t.totalGameNum)),r.a.createElement("td",null,r.a.createElement("div",{className:"totalGame"},Math.round(t.totalGameNum/e.state.sumTotalGameNum*1e4)/100,"%")))}))),n?r.a.createElement("tfoot",null,function(e){return"ALL"===e}(a)?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Total # of Games"),r.a.createElement("td",{colSpan:"2"},this.state.sumTotalGameNum," games")):f(a)?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Avg Win Rate"),r.a.createElement("td",null,Math.round(this.state.recordArr.map((function(e){return e.victory})).reduce((function(e,t){return e+t}),0)/this.state.sumTotalGameNum*1e3)/10,"%"),r.a.createElement("td",null,this.state.sumTotalGameNum," games")):N(a)||w(a)?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Avg Rank"),r.a.createElement("td",null,Math.round(this.state.recordArr.map((function(e){return e.averageRank*e.totalGameNum})).reduce((function(e,t){return e+t}),0)/this.state.sumTotalGameNum*10)/10),r.a.createElement("td",null,this.state.sumTotalGameNum," games")):""):r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},"Total # of Games"),r.a.createElement("td",{colSpan:"2"},this.state.sumTotalGameNum," games"))))))}}]),a}(n.Component)),K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={mapName:"",mode:"",recordArr:[],sumTotalGameNum:0,trophyRange:"",isMapShown:!1},e.changeTrophyRange=function(t){e.setState({trophyRange:t.target.value});var a=e.props.history,n=new URLSearchParams(e.props.location.search);n.set("trophyRange",t.target.value),e.getRecordResult(n.get("mapName"),n.get("mode"),n.get("trophyRange")),a.push("/map?".concat(n.toString()))},e.getRecordResult=function(t,a,n){var r={},o=[],c=new URLSearchParams;c.set("mode",a),c.set("trophyRange",n),c.set("map",t),P("/record/result?".concat(c)).then((function(t){console.log(t);var n=t.data;console.log(n),n.forEach((function(e){f(a)?(void 0===r[e.brawlerName]&&(r[e.brawlerName]={}),r[e.brawlerName]=Object(Q.a)({},r[e.brawlerName],Object(H.a)({},e.result,e.cnt))):r[e.brawlerName]={brawlerName:e.brawlerName,averageRank:e.averageRank,cnt:e.cnt}})),console.log(r);var c=0;if(f(a)){for(var s in r){var l=r[s],i=l.victory||0,m=l.defeat||0,u=l.draw||0,h=i+m+u;o.push({brawlerName:s,victory:i,defeat:m,draw:u,winRate:i/h,totalGameNum:h}),c+=h}o.sort((function(e,t){return t.winRate-e.winRate}))}else{for(var p in r){var d=r[p],g=d.averageRank,v=d.cnt;o.push({brawlerName:p,averageRank:g,totalGameNum:v}),c+=v}o.sort((function(e,t){return e.averageRank-t.averageRank}))}console.log(o),e.setState({recordArr:o,sumTotalGameNum:c})})).catch((function(e){console.log(e)}))},e.showMapImg=function(){e.setState({isMapShown:!e.state.isMapShown})},e}return Object(l.a)(a,[{key:"isSolo",value:function(e){return"soloShowdown"===e}},{key:"isDuo",value:function(e){return"duoShowdown"===e}},{key:"componentDidMount",value:function(){var e=p.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}),t=this.props.match.params,a=t.map,n=t.mode,r=e.trophyRange||this.state.trophyRange;console.log(a),this.setState({trophyRange:r,mapName:a,mode:n}),this.getRecordResult(a,n,r)}},{key:"render",value:function(){return r.a.createElement("div",{className:"mapClass"},r.a.createElement("h3",null,"Statistics "),r.a.createElement("div",{className:"mapNameContainer",onClick:this.showMapImg},r.a.createElement("span",{className:"mapName"},this.state.mapName),this.state.isMapShown?r.a.createElement(E.a,{icon:Y.b}):r.a.createElement(E.a,{icon:Y.a})),r.a.createElement("div",{className:"mapImgContainer \n            ".concat(this.state.mode.includes("Showdown")?"showdown":"","\n            ").concat(this.state.isMapShown?"":"none")},r.a.createElement("img",{className:"mapImg",src:"/images/maps/".concat(this.state.mode.includes("Showdown")?"showdown":this.state.mode,"/").concat(this.state.mapName,".png")})),""===this.state.mapName?r.a.createElement("div",null,"invalid map name"):r.a.createElement(W,{key:this.state.recordArr,recordArr:this.state.recordArr,sumTotalGameNum:this.state.sumTotalGameNum,mode:this.state.mode}))}}]),a}(n.Component),J=(a(105),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={tag:"",mode:"gemGrab",recordArr:[],sumTotalGameNum:0},e.changeMode=function(t){console.log("changeMode"),e.setState({mode:t});var a=new URLSearchParams(e.props.location.search);a.set("mode",t),e.getRecordResult(a)},e}return Object(l.a)(a,[{key:"getRecordResult",value:function(e){var t=this,a={},n=[],r=e.get("mode");P("/record/result?".concat(e)).then((function(e){console.log(e);var o=e.data;console.log(o),o.forEach((function(e){f(r)?(void 0===a[e.brawlerName]&&(a[e.brawlerName]={}),a[e.brawlerName]=Object(Q.a)({},a[e.brawlerName],Object(H.a)({},e.result,e.cnt))):a[e.brawlerName]={brawlerName:e.brawlerName,averageRank:e.averageRank,cnt:e.cnt}})),console.log(a);var c=0;if("ALL"===r){for(var s in a){var l=a[s],i=l.brawlerName,m=l.cnt;n.push({brawlerName:i,totalGameNum:m}),c+=m}n.sort((function(e,t){return t.totalGameNum-e.totalGameNum}))}else if(f(r)){for(var u in a){var h=a[u],p=h.victory||0,d=h.defeat||0,g=h.draw||0,v=p+d+g;n.push({brawlerName:u,victory:p,defeat:d,draw:g,winRate:p/v,totalGameNum:v}),c+=v}n.sort((function(e,t){return t.winRate-e.winRate}))}else{for(var E in a){var b=a[E],N=b.averageRank,w=b.cnt;n.push({brawlerName:E,averageRank:N,totalGameNum:w}),c+=w}n.sort((function(e,t){return e.averageRank-t.averageRank}))}console.log(n),t.setState({recordArr:n,sumTotalGameNum:c})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search),t=e.get("tag"),a=e.get("mode")||this.state.mode;e.set("mode",a),this.setState({tag:t}),this.getRecordResult(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"statistics"},r.a.createElement("div",{className:"modeListContainer"},r.a.createElement(v,{key:this.state.mode,mode:this.state.mode,changeMode:this.changeMode})),r.a.createElement(W,{key:this.state.recordArr,recordArr:this.state.recordArr,sumTotalGameNum:this.state.sumTotalGameNum,mode:this.state.mode,isPersonal:!0})))}}]),a}(n.Component));var Z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(U.a,null,r.a.createElement(B,null),r.a.createElement(D.a,{path:"/",component:F,exact:!0}),r.a.createElement(D.a,{path:"/battleLog/:tag",component:M,exact:!0}),r.a.createElement(D.a,{path:"/userList",component:G}),r.a.createElement(D.a,{path:"/mapList",component:x}),r.a.createElement(D.a,{path:"/map/:map/mode/:mode",component:K}),r.a.createElement(D.a,{path:"/statistics",component:J})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,a){},51:function(e,t,a){e.exports=a(106)},56:function(e,t,a){},57:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},58:function(e,t,a){},71:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.c486d1e3.chunk.js.map